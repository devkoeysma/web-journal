<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>ê¸€ ì‘ì„±</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <body>
        {% if page == "post" %} <!--ê¸€ ì“°ëŠ” í˜ì´ì§€-->
        <h1>ê¸€ ì‘ì„±</h1>
        <form method="post">
            ì œëª©: <input type="text" name="title"><br><br>
            ë‚´ìš©:<br>
            <textarea name="content" rows="5" cols="30"></textarea><br><br>

            <label>ì˜¤ëŠ˜ì˜ ê°ì •</label>
            <div class="mood-select">
                <label>
                    <input type="radio" name="mood" value="ğŸ˜Š" required>
                    <span class="emoji">ğŸ˜Š</span>
                </label>
                <label>
                    <input type="radio" name="mood" value="ğŸ˜¢" required>
                    <span class="emoji">ğŸ˜¢</span>
                </label>
                <label>
                    <input type="radio" name="mood" value="ğŸ˜¡" required>
                    <span class="emoji">ğŸ˜¡</span>
                </label>
            </div>

            <button type="submit">ì €ì¥</button>
        </form>
        <a href="{{ url_for('postlist') }}">ê¸€ ëª©ë¡ ë³´ê¸°</a>


        {% elif page == "homepage" %} <!--í™ˆ í˜ì´ì§€-->
        <a href="{{ url_for('post') }}">
            <button>ê¸€ ì‘ì„±í•˜ëŸ¬ ê°€ê¸°</button>
        </a>


        {% elif page == "postlist" %} <!--ê¸€ ëª©ë¡ í˜ì´ì§€-->
        <h1>ê¸€ ëª©ë¡</h1>
        <form action="{{ url_for('search_by_date') }}" method="get" >
            <label>ë‚ ì§œë¡œ ê²€ìƒ‰:</label>
            <input type="date" name="date">
            <button type="submit">ê²€ìƒ‰</button>
        </form>
        <ul>
            {% for p in posts %}
            <li>
                <a href="{{ url_for('detailpost', post_id=p['id']) }}">{{ p.id }}ë²ˆ: {{p.title}}</a>
                <div>{{ p.date }}</div>
                <a href="{{ url_for('editpost', post_id=p['id']) }}">
                    <button>ê¸€ ìˆ˜ì •í•˜ê¸°</button>
                </a>
                <form action="{{ url_for('delete_post', post_id=p['id']) }}" method="post" style="display:inline;">
                    <button type="submit">ê¸€ ì‚­ì œí•˜ê¸°</button>
                </form>
                <div class="mood">{{ p.mood }}</div>
            </li>
            {% endfor %}
        </ul>
        <a href="{{ url_for('post') }}">ê¸€ ì‘ì„±í•˜ê¸°</a>


        {% elif page == "edit" %} <!--ê¸€ ìˆ˜ì • í˜ì´ì§€-->
        <h1>ê¸€ ìˆ˜ì •í•˜ê¸°</h1>
        <form method="post">
            ì œëª©: <input type="text" name="title" value="{{ post.title }}"><br>
            ë‚´ìš©: <br>
            <textarea name="content" rows="5" cols="30">{{ post.content }}</textarea><br>
            
            <label>ì˜¤ëŠ˜ì˜ ê°ì •</label>
            <div class="mood-select">
                <label>
                    <input type="radio" name="mood" value="ğŸ˜Š" required>
                    <span class="emoji">ğŸ˜Š</span>
                </label>
                <label>
                    <input type="radio" name="mood" value="ğŸ˜¢" required>
                    <span class="emoji">ğŸ˜¢</span>
                </label>
                <label>
                    <input type="radio" name="mood" value="ğŸ˜¡" required>
                    <span class="emoji">ğŸ˜¡</span>
                </label>
            </div>

            <button type="submit">ìˆ˜ì • ì™„ë£Œ</button>
        </form>
        <a href="{{ url_for('postlist') }}">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

        <a href="{{ url_for('post') }}">
            <button>ê¸€ ì‘ì„±í•˜ëŸ¬ ê°€ê¸°</button>
        </a>


        {% elif page == "detail" %} <!--ê¸€ ì œì‹œíˆ ë³´ê¸° í˜ì´ì§€-->
        <h1>{{ post.title }}</h1>
        <p>{{ post.date }}</p>
        <p>{{ post.content }}</p>
        <p>{{ post.mood }}</p>
        <a href="{{ url_for('postlist') }}">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        {% endif %}
    </body>
</html>